/* ===== bio-stories.css â€” Ù‚Ø³Ù… Ø§Ù„Ù‚ØµØµ ÙˆØ§Ù„Ù…Ø°ÙƒÙ‘Ø±Ø§Øª ===== */

/* Ø±Ø£Ø³ Ø§Ù„Ù‚Ø³Ù… + Ø§Ù„Ù…ÙŠØªØ§ */
.stories-header{margin-bottom:.35rem}
.stories-meta{
  margin:-.15rem 0 .65rem;
  font-size:.8rem;
  color:color-mix(in oklab,var(--text-muted)92%,var(--text-main));
  opacity:.98
}

/* Ù…Ø¨Ø¯Ù‘Ù„ ÙˆØ¶Ø¹ Ø§Ù„Ù‚ØµØµ */
.stories-mode{
  display:inline-flex;
  align-items:center;
  gap:.15rem;
  padding:.12rem;
  border-radius:999px;
  background:color-mix(in oklab,var(--panel-bg)92%,#fff);
  box-shadow:var(--shadow-soft)

}
.stories-mode-btn{
  border:0;
  background:transparent;
  padding:.16rem .7rem;
  border-radius:999px;
  font-size:.8rem;
  cursor:pointer;
  color:color-mix(in oklab,var(--text-muted)90%,var(--text-main));
  transition:background .14s,color .14s,transform .12s
}
.stories-mode-btn.is-active{
  background:var(--modal-primary);
  color:var(--modal-fg);
  transform:translateY(-1px)
}

/* Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù‚ØµØµ */
.stories-empty{
  padding:1rem 1.1rem;
  border-radius:.8rem;
  border:1px dashed color-mix(in oklab,var(--surface-border)80%,transparent);
  background:color-mix(in oklab,var(--panel-bg)88%,#fff);
  font-size:.9rem;
  color:color-mix(in oklab,var(--text-muted)90%,var(--text-main));
  text-align:center
}

/* ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
.story-edit{
  display:flex;
  flex-direction:column;
  gap:.5rem
}
.story-card--preview .story-edit{display:none}
.story-card--edit .story-preview{display:none}

/* Ø¨Ø§Ø¯Ø¬Ø§Øª Ø§Ù„Ù†ÙˆØ¹ (Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ ÙÙ‚Ø·) */
.story-badge--type[data-type="general"]::before{content:"ğŸ“"}
.story-badge--type[data-type="childhood"]::before{content:"ğŸ§’"}
.story-badge--type[data-type="study"]::before{content:"ğŸ“š"}
.story-badge--type[data-type="marriage"]::before{content:"ğŸ’"}
.story-badge--type[data-type="work"]::before{content:"ğŸ’¼"}
.story-badge--type[data-type="character"]::before{content:"â­"}
.story-badge--type[data-type="anecdote"]::before{content:"ğŸ˜„"}

/* ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ù„Ù‚ØµØ© Ù…Ù…ÙŠÙ‘Ø²Ø© */
.story-card--pinned{
  border:1px solid color-mix(in oklab,var(--modal-primary)60%,var(--surface-border));
  box-shadow:0 .2rem .6rem rgba(0,0,0,.08);
}

/* Ø¹Ø¯Ù‘Ø§Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ØµØµ Ø¨Ø¬ÙˆØ§Ø± Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù… */
.stories-count-badge{
  display:inline-flex;
  align-items:center;
  padding:.05rem .45rem;
  margin-inline-start:.35rem;
  font-size:.78rem;
  font-weight:500;
  border-radius:999px;
  background:color-mix(in oklab,var(--panel-bg)92%,#fff);
  border:1px solid color-mix(in oklab,var(--surface-border)75%,transparent);
  color:color-mix(in oklab,var(--text-muted)80%,var(--text-main));
  box-shadow:0 .05rem .25rem rgba(0,0,0,.05);
}


/* Ø´Ø§Ø±Ø© "Ø¨Ø¯ÙˆÙ† ØªØ§Ø±ÙŠØ® Ù…Ø­Ø¯Ù‘Ø¯" */
.story-badge--undated{
  padding:.06rem .5rem;
  border-radius:999px;
  font-size:.74rem;
  border:1px solid color-mix(in oklab,var(--surface-border)80%,transparent);
  background:color-mix(in oklab,var(--panel-bg)96%,#fff);
  color:color-mix(in oklab,var(--text-muted)90%,var(--text-main));
}
/* Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ Ø³ÙŠØªÙƒÙŠÙ‘Ù ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ø¨Ø± Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª (autoResizeStoryTextareas) */
.story-textarea, .story-note-input{
  min-height:7.2rem;
  max-height:22rem;
  line-height:1.7;
}

.story-note-input{
  min-height:5.4rem;
  max-height:16rem;
  resize:none;
}


/* Ø­Ù‚Ù„ Ø§Ù„ÙˆØ³ÙˆÙ… ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
.story-body input[name^="story_tags_"]{
  width:100%;
  padding:.32rem .65rem;
  border-radius:.6rem;
  border:1px dashed color-mix(in oklab,var(--surface-border)80%,transparent);
  background:color-mix(in oklab,var(--panel-bg)96%,#fff);
  font-size:.84rem;
  color:var(--text-main);
  outline:none!important;
  margin-top:.15rem;
  box-shadow:var(--shadow-soft);

  transition:border-color .16s,box-shadow .16s,background-color .16s,transform .12s
}
.story-body input[name^="story_tags_"]::placeholder{
  color:color-mix(in oklab,var(--text-muted)92%,var(--text-main))
}
.story-body input[name^="story_tags_"]:hover{
  border-color:color-mix(in oklab,var(--modal-primary)40%,var(--surface-border));
  background:color-mix(in oklab,var(--panel-bg)94%,#fff);
  transform:translateY(-1px);
  box-shadow:var(--shadow-soft-lg)

}
.story-body input[name^="story_tags_"]:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary)40%,transparent);
  background:var(--card-bg)
}

/* ÙˆØ³ÙˆÙ… Ø§Ù„Ù‚ØµØ© (Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª) */
.story-tags-list{
  display:flex;
  flex-wrap:wrap;
  gap:.3rem;
  margin-top:.25rem
}
.story-tag-chip{
  padding:.06rem .5rem;
  border-radius:999px;
  font-size:.72rem;
  cursor:pointer;
  border:1px solid color-mix(in oklab,var(--surface-border)80%,transparent);
  background:color-mix(in oklab,var(--panel-bg)96%,#fff);
  color:color-mix(in oklab,var(--text-muted)88%,var(--text-main));
  transition:background-color .14s,border-color .14s,color .14s,transform .1s
}
.story-tag-chip:hover{
  background:color-mix(in oklab,var(--panel-bg)90%,#fff);
  border-color:color-mix(in oklab,var(--modal-primary)40%,var(--surface-border));
  transform:translateY(-1px)
}
.story-tag-chip.is-active{
  background:color-mix(in oklab,var(--modal-primary)88%,#fff);
  border-color:color-mix(in oklab,var(--modal-primary)65%,var(--surface-border));
  color:var(--modal-primary-fg,var(--modal-fg))
}

/* ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø«ÙÙ…Ø¨ */
.story-image-thumb--preview{width:64px;height:64px}

/* Ø­Ù‚Ù„ Ø§Ù„Ø¹Ø¨Ø±Ø© / Ø§Ù„Ø®Ù„Ø§ØµØ© */
.story-note-preview{
  margin-top:.25rem;
  font-size:.82rem;
  line-height:1.6;
  color:color-mix(in oklab,var(--text-muted)88%,var(--text-main))
}
.story-note-preview strong{font-weight:700}
.story-note-input{
  width:100%;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  padding:.35rem .7rem;
  font-size:.86rem;
  color:var(--text-main);
  outline:none!important;
  resize:vertical;
  min-height:3rem;
  transition:border-color .16s,box-shadow .16s,background-color .16s
}
.story-note-input::placeholder{color:var(--text-muted)}
.story-note-input:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary)40%,transparent);
  background:var(--card-bg)
}

/* ================== Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (Responsive) ================== */
@media(max-width:23.9rem){
  .bio-section-stories{margin-top:.6rem;padding:.7rem .7rem .9rem}
  .stories-header{margin-bottom:.4rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.4rem}
  .stories-tools-left,.stories-tools-right{width:100%;justify-content:space-between}
  .stories-sort,.stories-type-filter{flex:1 1 auto}
  .stories-add-btn{width:100%;justify-content:center}
  .stories-meta{font-size:.78rem}
  .story-card-top{align-items:flex-start}
  .story-head{flex-direction:column;align-items:stretch;gap:.45rem}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
}
@media(min-width:24rem) and (max-width:29.9rem){
  .bio-section-stories{margin-top:.7rem;padding:.8rem .85rem 1rem}
  .stories-header{margin-bottom:.45rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.45rem}
  .stories-tools-left,.stories-tools-right{width:100%;justify-content:space-between}
  .stories-sort,.stories-type-filter{flex:1 1 auto}
  .stories-add-btn{width:100%}
  .story-card{max-height:72vh}
  .story-head{flex-direction:column;align-items:stretch}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
}
@media(min-width:30rem) and (max-width:39.9rem){
  .bio-section-stories{margin-top:.8rem;padding:.9rem 1rem 1.1rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.5rem}
  .stories-tools-left,.stories-tools-right{width:100%}
  .stories-tools-right{justify-content:flex-start}
  .story-card{max-height:75vh}
  .story-head{flex-direction:column;align-items:stretch}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
}
@media(min-width:40rem) and (max-width:47.9rem){
  .bio-section-stories{margin-top:.9rem;padding:1rem 1.1rem 1.2rem}
  .stories-header{margin-bottom:.5rem}
  .stories-tools{flex-direction:row;align-items:center;flex-wrap:wrap;gap:.5rem}
  .stories-tools-left{flex:1 1 100%;justify-content:flex-start;gap:.5rem}
  .stories-tools-right{flex:0 0 auto}
  .story-card{max-height:78vh}
  .story-head{flex-direction:row;align-items:center;gap:.6rem}
  .story-meta-row{grid-template-columns:minmax(0,1fr) minmax(0,1fr)}
  .story-pin-toggle{width:auto}
}
@media(min-width:48rem) and (max-width:63.9rem){
  .bio-section-stories{margin-top:1rem;padding:1rem 1.3rem 1.3rem}
  .stories-tools{flex-direction:row;align-items:center;gap:.6rem}
  .stories-tools-left{flex:1 1 auto}
  .stories-tools-right{flex:0 0 auto}
  .story-card{max-height:22rem}
  .story-meta-row{grid-template-columns:minmax(0,9.5rem) minmax(0,8.5rem) minmax(0,1.4fr)}
  .story-pin-toggle{width:auto}
}
@media(min-width:64rem){
  .bio-section-stories{margin-top:1.1rem;padding:1.1rem 1.4rem 1.4rem}
  .stories-list{gap:1rem}
  .story-card{max-height:24rem}
  .story-meta-row{grid-template-columns:minmax(0,9.5rem) minmax(0,8.5rem) minmax(0,1.4fr)}
  .story-pin-toggle{width:auto}
}
