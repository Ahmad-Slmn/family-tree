/* ===== bio-stories.css Ù‚Ø³Ù… Ø§Ù„Ù‚ØµØµ ÙˆØ§Ù„Ù…Ø°ÙƒÙ‘Ø±Ø§Øª ===== */
.bio-section-stories{
  margin-top:1rem;
  padding:1rem 1.1rem 1.2rem;
  background:linear-gradient(135deg,
    color-mix(in oklab,var(--panel-bg) 80%,#fff) 0%,
    var(--card-bg) 55%);
  border:1px solid color-mix(in oklab,var(--surface-border) 80%,transparent);
  border-radius:1rem;
  box-shadow:0 .3rem 1rem rgba(0,0,0,.06);
}
.bio-section-stories > h3{
  margin:0 0 .55rem;
  font-size:1.02rem;
  font-weight:800;
  color:var(--title-color);
}

/* Ø±Ø£Ø³ Ø§Ù„Ù‚Ø³Ù… (Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª) */
.stories-header{margin-bottom:.35rem;}
.stories-tools{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:.6rem;
  flex-wrap:wrap;
}
.stories-tools-left,
.stories-tools-right{
  display:flex;
  align-items:center;
}
.stories-tools-left{flex-wrap:wrap;gap:.5rem;}

/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ */
.stories-sort{
  min-width:9.5rem;
  padding:.3rem .75rem;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--card-bg);
  font-size:.9rem;
  color:var(--text-main);
  box-shadow:0 .12rem .3rem rgba(0,0,0,.04);
  cursor:pointer;
  outline:none!important;
  transition:border-color .16s,box-shadow .16s,background-color .16s,transform .12s;
}
.stories-sort:hover{
  border-color:color-mix(in oklab,var(--modal-primary) 55%,var(--surface-border));
  background:color-mix(in oklab,var(--card-bg) 90%,#fff);
  transform:translateY(-1px);
}
.stories-sort:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 45%,transparent);
}

/* ÙÙ„ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù‚ØµØ© */
.stories-type-filter{
  min-width:8.5rem;
  padding:.3rem .65rem;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--card-bg);
  font-size:.84rem;
  color:var(--text-main);
  box-shadow:0 .12rem .3rem rgba(0,0,0,.04);
  cursor:pointer;
  outline:none!important;
  transition:border-color .16s,box-shadow .16s,background-color .16s,transform .12s;
}
.stories-type-filter:hover{
  border-color:color-mix(in oklab,var(--modal-primary) 45%,var(--surface-border));
  background:color-mix(in oklab,var(--card-bg) 92%,#fff);
  transform:translateY(-1px);
}
.stories-type-filter:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 45%,transparent);
}

/* Ù…Ø¨Ø¯Ù‘Ù„ ÙˆØ¶Ø¹ Ø§Ù„Ù‚ØµØµ (Ø¥Ù† Ø§Ø³ØªØ®Ø¯Ù… Ù„Ø§Ø­Ù‚Ù‹Ø§) */
.stories-mode{
  display:inline-flex;
  align-items:center;
  gap:.15rem;
  padding:.12rem;
  border-radius:999px;
  background:color-mix(in oklab,var(--panel-bg) 92%,#fff);
  box-shadow:0 .06rem .25rem rgba(0,0,0,.05);
}
.stories-mode-btn{
  border:0;
  background:transparent;
  padding:.16rem .7rem;
  border-radius:999px;
  font-size:.8rem;
  cursor:pointer;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
  transition:background .14s,color .14s,transform .12s;
}
.stories-mode-btn.is-active{
  background:var(--modal-primary);
  color:var(--modal-fg);
  transform:translateY(-1px);
}

/* Ù…ÙŠØªØ§ Ø§Ù„ÙˆØµÙ */
.stories-meta{
  margin:-.15rem 0 .65rem;
  font-size:.8rem;
  color:color-mix(in oklab,var(--text-muted) 92%,var(--text-main));
  opacity:.98;
}

/* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù‚ØµØ© */
.stories-add-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.3rem;
  padding:.35rem .9rem;
  border-radius:.7rem;
  border:none;
  background:var(--modal-primary);
  color:var(--modal-primary-fg,var(--modal-fg));
  font-size:.9rem;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 .18rem .45rem rgba(0,0,0,.16);
  transition:transform .12s,box-shadow .12s,background-color .18s,opacity .12s;
}
.stories-add-btn:hover{
  transform:translateY(-1px);
  box-shadow:0 .28rem .7rem rgba(0,0,0,.18);
  background:color-mix(in oklab,var(--modal-primary) 88%,#fff);
}
.stories-add-btn:active{
  transform:translateY(0);
  box-shadow:0 .14rem .35rem rgba(0,0,0,.16);
  opacity:.9;
}

/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ØµØµ + Ø­Ø§Ù„Ø© ÙØ§Ø±ØºØ© */
.stories-list{
  display:flex;
  flex-direction:column;
  gap:.85rem;
}
.stories-empty{
  padding:1rem 1.1rem;
  border-radius:.8rem;
  border:1px dashed color-mix(in oklab,var(--surface-border) 80%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 88%,#fff);
  font-size:.9rem;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
  text-align:center;
}

/* ÙƒØ±Øª Ø§Ù„Ù‚ØµØ© */
.story-card{
  background:var(--card-bg);
  border-radius:.9rem;
  border:1px solid var(--surface-border);
  box-shadow:0 .22rem .7rem rgba(0,0,0,.05);
  padding:.8rem .9rem .85rem;
  display:flex;
  flex-direction:column;
  gap:.6rem;
  transition:box-shadow .16s,transform .16s,border-color .16s;
  max-height:20rem;
  overflow-y:auto;
}
.story-card:hover{
  border-color:color-mix(in oklab,var(--modal-primary) 40%,var(--surface-border));
  box-shadow:0 .32rem 1rem rgba(0,0,0,.08);
  transform:translateY(-1px);
}

.story-card-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.5rem;
}

.story-card-index{
  font-size:.8rem;
  font-weight:700;
  color:color-mix(in oklab,var(--text-muted) 80%,var(--text-main));
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  padding:.12rem .6rem;
  border-radius:999px;
  border:1px solid color-mix(in oklab,var(--surface-border) 80%,transparent);
  margin-bottom:.15rem;
}
/* Ù†ÙØ³ Ø§Ù„ÙƒØ±Øª Ù„ÙƒÙ† ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙÙ‚Ø· ÙŠÙƒÙˆÙ† Ù„Ù‡ Ø­Ø¯Ù‘ Ø§Ø±ØªÙØ§Ø¹ + Ø³ÙƒØ±ÙˆÙ„ Ø¯Ø§Ø®Ù„ÙŠ */
.story-card--edit{
  max-height:20rem;   /* ØºÙŠÙ‘Ø± Ø§Ù„Ø±Ù‚Ù… Ù„Ù…Ø§ ÙŠÙ†Ø§Ø³Ø¨Ùƒ: 20â€“26rem Ù…Ø«Ù„Ø§Ù‹ */
  overflow-y:auto;
}

/* Ø´Ø§Ø±Ø© Ù‚ØµØ© Ù…Ù…ÙŠÙ‘Ø²Ø© */
.story-pinned-badge{
  align-self:flex-start;
  font-size:.75rem;
  font-weight:700;
  color:#f7ca3e;
  background:rgba(247,202,62,.1);
  border-radius:999px;
  padding:.1rem .6rem;
  border:1px solid rgba(247,202,62,.45);
  display:inline-flex;
  align-items:center;
  gap:.25rem;
}
.story-pinned-badge::before{
  content:"â˜…";
  font-size:.85rem;
}

/* ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© / Ø§Ù„ØªØ­Ø±ÙŠØ± */
.story-preview{
  display:flex;
  flex-direction:column;
  gap:.25rem;
}
.story-preview-title{
  font-weight:700;
  font-size:.96rem;
  color:var(--title-color);
}
.story-preview-meta{
  display:flex;
  flex-wrap:wrap;
  gap:.4rem;
  font-size:.78rem;
  color:var(--text-muted);
  margin:.1rem 0 .2rem;
}

/* Ø¨Ø§Ø¯Ø¬Ø§Øª Ø§Ù„Ù…ÙƒØ§Ù† / Ø§Ù„Ø³Ù†Ø© / Ø§Ù„Ù†ÙˆØ¹ */
.story-preview-badges{
  display:flex;
  flex-wrap:wrap;
  gap:.3rem;
  margin:.1rem 0 .15rem;
}
.story-badge{
  display:inline-flex;
  align-items:center;
  padding:.06rem .5rem;
  border-radius:999px;
  font-size:.74rem;
  border:1px solid color-mix(in oklab,var(--surface-border) 80%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 94%,#fff);
  color:color-mix(in oklab,var(--text-muted) 85%,var(--text-main));
}
.story-badge--place::before{
  content:"ðŸ“";
  margin-inline-end:.25rem;
}
.story-badge--year::before{
  content:"ðŸ“…";
  margin-inline-end:.25rem;
}
.story-badge--type::before{
  content:"ðŸ·ï¸";
  margin-inline-end:.25rem;
}

/* Ø´Ø±ÙŠØ· Ø·ÙˆÙ„ Ø§Ù„Ù‚ØµØ© */
.story-length-chip{
  display:inline-flex;
  align-items:center;
  gap:.3rem;
  padding:.04rem .45rem;
  border-radius:999px;
  background:color-mix(in oklab,var(--panel-bg) 95%,#fff);
  border:1px solid color-mix(in oklab,var(--surface-border) 80%,transparent);
}
.story-length-meter{
  width:44px;
  height:4px;
  border-radius:999px;
  background:color-mix(in oklab,var(--panel-bg) 88%,#fff);
  overflow:hidden;
}
/* Ù†Ø²ÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ† Ù…Ù† Ø§Ù„Ø´Ø±ÙŠØ·
   ÙˆÙ†ØªØ±ÙƒÙ‡Ù…Ø§ Ù„Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø© ÙÙ‚Ø· */
.story-length-meter-bar{
  display:block;        /* Ù…Ù‡Ù…: Ø­ØªÙ‰ ØªØ¹Ù…Ù„ Ø§Ù„Ù€ width% */
  height:100%;
  width:0;              /* Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ ØµÙØ±ØŒ ÙˆÙŠÙØ³ØªØ¨Ø¯ÙŽÙ„ ÙÙŠ Ù…Ø³ØªÙˆÙŠØ§Øª 1/2/3 */
  border-radius:999px;
  transform-origin:left center;
}
/* Ù‚ØµÙŠØ±Ø© */
.story-length-meter[data-level="1"] .story-length-meter-bar{
  width:30%;
  background:color-mix(in oklab,#4caf50 70%,#fff); /* Ø£Ø®Ø¶Ø± Ù‡Ø§Ø¯Ø¦ */
}
/* Ù…ØªÙˆØ³Ø·Ø© */
.story-length-meter[data-level="2"] .story-length-meter-bar{
  width:65%;
  background:color-mix(in oklab,#ff9800 75%,#fff); /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
}
/* Ø·ÙˆÙŠÙ„Ø© */
.story-length-meter[data-level="3"] .story-length-meter-bar{
  width:100%;
  background:color-mix(in oklab,#f44336 80%,#fff); /* Ø£Ø­Ù…Ø± */
}

.story-preview-meta span+span{
  position:relative;
  padding-inline-start:.75rem;
}
.story-preview-meta span+span::before{
  content:"â€¢";
  position:absolute;
  inset-inline-start:.25rem;
  top:0;
}
.story-preview-text{
  margin:0;
  font-size:.9rem;
  line-height:1.7;
  color:var(--text-main)
}

/* Ø§Ù„ØªØ­Ø±ÙŠØ± */
.story-edit{
  display:flex;
  flex-direction:column;
  gap:.5rem;
}
.story-card--preview .story-edit{display:none;}
.story-card--edit .story-preview{display:none;}

/* Ø±Ø£Ø³ Ø§Ù„Ù‚ØµØ© ÙÙŠ Ø§Ù„ØªØ­Ø±ÙŠØ± */
.story-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:.7rem;
}
.story-title-input{
  flex:1 1 auto;
  min-width:0;
  padding:.35rem .7rem;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  font-size:.92rem;
  color:var(--text-main);
  outline:none!important;
  transition:border-color .16s,box-shadow .16s,background-color .16s;
}
.story-title-input::placeholder{color:var(--text-muted);}
.story-title-input:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 40%,transparent);
  background:var(--card-bg);
}
.story-dates{
  flex:0 0 auto;
  font-size:.8rem;
  color:var(--text-muted);
  white-space:nowrap;
}

/* Ø¬Ø³Ù… Ø§Ù„Ù‚ØµØ© */
.story-body{
  display:flex;
  flex-direction:column;
  gap:.45rem;
}
.story-textarea{
  width:100%;
  border-radius:.7rem;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  padding:.45rem .7rem;
  font-size:.9rem;
  color:var(--text-main);
  outline:none!important;
  resize:vertical;
  transition:border-color .16s,box-shadow .16s,background-color .16s;
}
.story-textarea::placeholder{color:var(--text-muted);}
.story-textarea:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 40%,transparent);
  background:var(--card-bg);
}

/* ØµÙ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©: Ù†ÙˆØ¹ Ø§Ù„Ù‚ØµØ© + ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¯Ø« + Ø§Ù„Ù…ÙƒØ§Ù† */
.story-meta-row{
  display:grid;
  grid-template-columns:minmax(0,9.5rem) minmax(0,8.5rem) minmax(0,1.4fr);
  gap:.4rem;
  align-items:stretch;
  margin-top:.15rem;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø¹Ù†Ø§ØµØ± ØµÙ Ø§Ù„Ù…ÙŠØªØ§ */
.story-meta-row select,
.story-meta-row input[type="date"],
.story-meta-row input[type="text"]{
  width:100%;
  padding:.32rem .65rem;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  font-size:.84rem;
  color:var(--text-main);
  outline:none!important;
  box-shadow:0 .06rem .18rem rgba(0,0,0,.03);
  transition:
    border-color .16s,
    box-shadow .16s,
    background-color .16s,
    transform .12s;
}
.story-meta-row select::placeholder,
.story-meta-row input[type="date"]::placeholder,
.story-meta-row input[type="text"]::placeholder{
  color:var(--text-muted);
}

/* ØªÙØ§Ø¹Ù„Ø§Øª hover / focus */
.story-meta-row select:hover,
.story-meta-row input[type="date"]:hover,
.story-meta-row input[type="text"]:hover{
  border-color:color-mix(in oklab,var(--modal-primary) 40%,var(--surface-border));
  background:color-mix(in oklab,var(--panel-bg) 94%,#fff);
  transform:translateY(-1px);
  box-shadow:0 .12rem .32rem rgba(0,0,0,.06);
}
.story-meta-row select:focus-visible,
.story-meta-row input[type="date"]:focus-visible,
.story-meta-row input[type="text"]:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 40%,transparent);
  background:var(--card-bg);
}

/* Ø­Ù‚Ù„ Ø§Ù„ÙˆØ³ÙˆÙ… ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
.story-body input[name^="story_tags_"]{
  width:100%;
  padding:.32rem .65rem;
  border-radius:.6rem;
  border:1px dashed color-mix(in oklab,var(--surface-border) 80%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  font-size:.84rem;
  color:var(--text-main);
  outline:none!important;
  margin-top:.15rem;
  box-shadow:0 .06rem .18rem rgba(0,0,0,.03);
  transition:
    border-color .16s,
    box-shadow .16s,
    background-color .16s,
    transform .12s;
}
.story-body input[name^="story_tags_"]::placeholder{
  color:color-mix(in oklab,var(--text-muted) 92%,var(--text-main));
}
.story-body input[name^="story_tags_"]:hover{
  border-color:color-mix(in oklab,var(--modal-primary) 40%,var(--surface-border));
  background:color-mix(in oklab,var(--panel-bg) 94%,#fff);
  transform:translateY(-1px);
  box-shadow:0 .12rem .32rem rgba(0,0,0,.06);
}
.story-body input[name^="story_tags_"]:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 40%,transparent);
  background:var(--card-bg);
}

/* Ø§Ù„ØµÙˆØ± Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ­Ø±ÙŠØ± */
.story-images-block{
  display:flex;
  flex-direction:column;
  gap:.35rem;
}

.story-images-row{
  display:flex;
  flex-wrap:wrap;               /* ÙŠØ³Ù…Ø­ Ø¨Ø£Ù† ÙŠÙ†Ø²Ù„ Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø·Ø± */
  justify-content:flex-end;     /* Ø´Ø¯Ù‘ Ø§Ù„ØµÙ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø¬Ù‡Ø© Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙŠ RTL */
  gap:.35rem .4rem;             /* Ù…Ø³Ø§ÙØ© Ø±Ø£Ø³ÙŠØ© ÙˆØ£ÙÙ‚ÙŠØ© Ø¨Ø³ÙŠØ·Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙÙˆÙ/Ø§Ù„Ø¹Ù†Ø§ØµØ± */
  margin-top:.35rem;
}

.story-images-empty-hint{
  font-size:.8rem;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
}
/* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªÙŠ ÙŠØ¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡Ø§ Sortable (Ø¯Ø§Ø®Ù„ÙŠÙ‹Ø§ LTR Ù„ÙƒÙ† Ù…Ø³Ù…ÙˆØ­ Ù„Ù‡Ø§ Ø¨Ø§Ù„ØªÙØ§Ù) */
.story-images-thumbs{
  direction:ltr;
  display:flex;
  flex-wrap:wrap;               /* Ø¨Ø¯Ù„ nowrap Ø­ØªÙ‰ Ù„Ø§ ØªØ®Ø±Ø¬ Ø§Ù„ØµÙˆØ± Ø®Ø§Ø±Ø¬ Ø§Ù„ÙƒØ±Øª */
  gap:.4rem;
  max-width:100%;               /* Ù„Ø§ ØªØªØ¬Ø§ÙˆØ² Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ±Øª */
}
/* Ø£Ø³Ø§Ø³ÙŠØ§Øª: Ø­Ø±ÙƒØ© Ù†Ø§Ø¹Ù…Ø© + Ù…Ø¤Ø´Ø± Ø§Ù„Ø³Ø­Ø¨ */
.story-image-thumb{
  position:relative;
  width:72px;
  height:72px;
  border-radius:.6rem;
  overflow:hidden;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  box-shadow:0 .06rem .25rem rgba(0,0,0,.08);
  cursor:grab;
  transition:
    transform .14s ease-out,
    box-shadow .14s ease-out,
    border-color .14s ease-out,
    background-color .14s ease-out;
}
.story-image-thumb:active{
  cursor:grabbing;
}

/* Ø£Ø«Ù†Ø§Ø¡ Ø³Ø­Ø¨ Ø§Ù„Ø¹Ù†ØµØ± Ù†ÙØ³Ù‡ (dragClass Ù…Ù† Sortable: story-image-thumb--drag) */
.story-image-thumb--drag{
  transform:scale(1.06) rotate(-1deg);
  box-shadow:0 .32rem 1rem rgba(0,0,0,.32);
  border-color:color-mix(in oklab,var(--modal-primary) 55%,var(--surface-border));
  background:color-mix(in oklab,var(--panel-bg) 88%,#fff);
  z-index:3;
}

/* Ù†Ø³Ø®Ø© Ø§Ù„Ø´Ø¨Ø­ (ghostClass Ù…Ù† Sortable: story-image-thumb--ghost) */
.story-image-thumb--ghost{
  opacity:.45;
  transform:scale(.96);
  box-shadow:0 .06rem .2rem rgba(0,0,0,.12);
}
/* ØªØ­Ø³ÙŠÙ† Ø®ÙÙŠÙ Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³Ø­Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) */
.story-images-thumbs.sortable-chosen,
.story-images-thumbs.sortable-ghost{
  background:color-mix(in oklab,var(--panel-bg) 90%,#fff);
  border-radius:.7rem;
  padding:.25rem;
  margin:-.25rem; /* Ù„ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ Ø­ØªÙ‰ Ù„Ø§ ØªØªØ­Ø±Ùƒ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨ØµØ±ÙŠÙ‹Ø§ */
  box-shadow:0 .12rem .35rem rgba(0,0,0,.08) inset;
  transition:background-color .16s,box-shadow .16s;
}


.story-image-thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.story-image-thumb--preview{
  width:64px;
  height:64px;
}

/* Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© (Ø²Ø± + Ø¥Ø²Ø§Ù„Ø©) */
.story-image-thumb-view{
  position:absolute;
  inset-inline-start:.18rem;
  bottom:.18rem;
  padding:.05rem .35rem;
  border-radius:999px;
  border:none;
  background:rgba(0,0,0,.7);
  color:#fff;
  font-size:.65rem;
  line-height:1.2;
  cursor:pointer;
  box-shadow:0 .04rem .2rem rgba(0,0,0,.4);
}
.story-image-thumb-view:hover{background:rgba(0,0,0,.82);}
.story-image-thumb-remove{
  position:absolute;
  top:.18rem;
  inset-inline-end:.18rem;
  width:1.4rem;
  height:1.4rem;
  border-radius:999px;
  border:none;
  background:rgba(0,0,0,.58);
  color:#fff;
  font-size:.9rem;
  line-height:1;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0;
  box-shadow:0 .08rem .25rem rgba(0,0,0,.35);
}
.story-image-thumb-remove:hover{background:rgba(0,0,0,.8);}

/* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ± */
.story-image-add-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.3rem;
  padding:.28rem .9rem;
  border-radius:.7rem;
  border:1px dashed color-mix(in oklab,var(--surface-border) 85%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  font-size:.82rem;
  font-weight:500;
  cursor:pointer;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
  box-shadow:0 .06rem .2rem rgba(0,0,0,.04);
  transition:background-color .16s,border-color .16s,color .16s,transform .12s,box-shadow .12s;
}
.story-image-add-btn:hover{
  background:color-mix(in oklab,var(--panel-bg) 92%,#fff);
  border-color:color-mix(in oklab,var(--surface-border) 70%,transparent);
  transform:translateY(-1px);
  box-shadow:0 .12rem .35rem rgba(0,0,0,.08);
}
.story-image-add-btn:active{
  transform:translateY(0);
  box-shadow:0 .04rem .18rem rgba(0,0,0,.12);
}
.story-image-add-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:1.4rem;
  height:1.4rem;
  border-radius:999px;
  font-size:.9rem;
  background:color-mix(in oklab,var(--panel-bg) 90%,#fff);
  box-shadow:0 .06rem .2rem rgba(0,0,0,.05);
}
.story-image-add-text{
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
}

/* ÙˆØ³ÙˆÙ… Ø§Ù„Ù‚ØµØ© */
.story-tags-list{
  display:flex;
  flex-wrap:wrap;
  gap:.3rem;
  margin-top:.25rem;
}
.story-tag-chip{
  padding:.06rem .5rem;
  border-radius:999px;
  font-size:.72rem;
  cursor:pointer;
  border:1px solid color-mix(in oklab,var(--surface-border) 80%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  color:color-mix(in oklab,var(--text-muted) 88%,var(--text-main));
  transition:background-color .14s,border-color .14s,color .14s,transform .1s;
}
.story-tag-chip:hover{
  background:color-mix(in oklab,var(--panel-bg) 90%,#fff);
  border-color:color-mix(in oklab,var(--modal-primary) 40%,var(--surface-border));
  transform:translateY(-1px);
}
.story-tag-chip.is-active{
  background:color-mix(in oklab,var(--modal-primary) 88%,#fff);
  border-color:color-mix(in oklab,var(--modal-primary) 65%,var(--surface-border));
  color:var(--modal-primary-fg,var(--modal-fg));
}

/* ØµÙˆØ± Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†Øµ */
.story-preview-images{
  display:flex;
  flex-wrap:wrap;
  gap:.4rem;
  margin-top:.3rem;
}

/* Ø²Ø± ÙØªØ­ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯ Ù„Ù„ØµÙˆØ± */
.story-images-slider-btn{
  margin-top:.25rem;
  align-self:flex-start;
  padding:.18rem .7rem;
  border-radius:.7rem;
  border:1px solid color-mix(in oklab,var(--surface-border) 85%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  font-size:.8rem;
  cursor:pointer;
  color:color-mix(in oklab,var(--text-muted) 92%,var(--text-main));
  box-shadow:0 .04rem .16rem rgba(0,0,0,.06);
  transition:background-color .16s,border-color .16s,color .16s,transform .12s,box-shadow .12s;
}
.story-images-slider-btn:hover{
  background:color-mix(in oklab,var(--panel-bg) 92%,#fff);
  border-color:color-mix(in oklab,var(--surface-border) 70%,transparent);
  transform:translateY(-1px);
  box-shadow:0 .12rem .35rem rgba(0,0,0,.08);
}

/* Ø¹Ø§Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ÙƒØ¨Ù‘Ø±Ø© (overlay) Ø¨Ø­Ø±ÙƒØ© Ù†Ø§Ø¹Ù…Ø© */
.story-image-viewer-overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease-out;
}
.story-image-viewer-overlay.is-open{
  opacity:1;
  pointer-events:auto;
}
.story-image-viewer-backdrop{
  position:absolute;
  inset:0;
  background:var(--modal-overlay,rgba(0,0,0,.72));
}

/* Ø§Ù„Ø­Ø§ÙˆÙŠØ© (Ø§Ù„Ø¯ÙŠØ§Ù„ÙˆØ¬) */
.story-image-viewer-dialog{
  position:absolute;
  inset:12%;
  margin:auto;
  background:transparent;
  box-shadow:none;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  max-width:min(39.25rem, 92vw);
  max-height:min(39.25rem, 82vh);
  opacity:0;
  transform:scale(.96) translateY(10px);
  transition:opacity .25s ease-out,transform .25s ease-out;
}

.story-image-viewer-overlay.is-open .story-image-viewer-dialog{
  opacity:1;
  transform:scale(1) translateY(0);
}

/* Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ */
.story-image-viewer-close{
  position:absolute;
  top:.50rem;
  inset-inline-start:.70rem;
  width:2rem;
  height:2rem;
  border-radius:999px;
  border:none;
  background:rgba(0,0,0,.65);
  color:#fff;
  font-size:1.1rem;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  line-height:1;
  box-shadow:0 .18rem .6rem rgba(0,0,0,.55);
  z-index:2;
}
.story-image-viewer-close:hover{background:rgba(0,0,0,.85);}

/* Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ø§Ø±Ø¶ */
.story-image-viewer-img{
  display:block;
  width:auto;
  height:auto;
  max-width:39.25rem;
  max-height:39.25rem;
  object-fit:contain;
  border-radius:1.2rem;
  box-shadow:0 .6rem 2rem rgba(0,0,0,.45);
  transition:opacity .2s ease-out;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ø§Ø±Ø¶ */
.story-image-viewer-nav{
  position:absolute;
  bottom:7%;
  width:100%;
  padding:0 .50rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
  pointer-events:none;
}
.story-image-viewer-arrow{
  pointer-events:auto;
  width:2.4rem;
  height:2.4rem;
  border-radius:999px;
  border:none;
  background:rgba(0,0,0,.65);
  color:#fff;
  font-size:1.2rem;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 .18rem .6rem rgba(0,0,0,.55);
}
.story-image-viewer-arrow:disabled{
  opacity:.35;
  cursor:default;
}
.story-image-viewer-counter{
  pointer-events:none;
  padding:.2rem .7rem;
  border-radius:999px;
  background:rgba(0,0,0,.55);
  color:#fff;
  font-size:.8rem;
}

/* Ø­Ù‚Ù„ Ø§Ù„Ø¹Ø¨Ø±Ø© / Ø§Ù„Ø®Ù„Ø§ØµØ© */
.story-note-preview{
  margin-top:.25rem;
  font-size:.82rem;
  line-height:1.6;
  color:color-mix(in oklab,var(--text-muted) 88%,var(--text-main));
}
.story-note-preview strong{font-weight:700;}
.story-note-input{
  width:100%;
  border-radius:.6rem;
  border:1px solid var(--surface-border);
  background:var(--panel-bg);
  padding:.35rem .7rem;
  font-size:.86rem;
  color:var(--text-main);
  outline:none!important;
  resize:vertical;
  min-height:3rem;
  transition:border-color .16s,box-shadow .16s,background-color .16s;
}
.story-note-input::placeholder{color:var(--text-muted);}
.story-note-input:focus-visible{
  border-color:var(--modal-primary);
  box-shadow:0 0 0 .09rem color-mix(in oklab,var(--modal-primary) 40%,transparent);
  background:var(--card-bg);
}

/* Ù…ÙØªØ§Ø­ ØªØ«Ø¨ÙŠØª Ø§Ù„Ù‚ØµØ© ÙƒÙ…Ù…ÙŠÙ‘Ø²Ø© */
.story-pin-toggle{
  display:inline-flex;
  align-items:center;
  gap:.45rem;
  margin-top:.2rem;
  padding:.35rem .65rem;
  border-radius:.8rem;
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  border:1px dashed color-mix(in oklab,var(--surface-border) 85%,transparent);
  cursor:pointer;
  font-size:.86rem;
  color:color-mix(in oklab,var(--text-muted) 88%,var(--text-main));
  box-shadow:0 .06rem .2rem rgba(0,0,0,.03);
  transition:
    background-color .16s,
    border-color .16s,
    box-shadow .16s,
    transform .12s,
    color .14s;
}
/* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù€ checkbox */
.story-pin-toggle > input[type="checkbox"]{
  position:absolute;
  opacity:0;
  pointer-events:none;
}
/* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù†Ø¬Ù…Ø© */
.story-pin-toggle::before{
  content:"â˜…";
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:1.4rem;
  height:1.4rem;
  border-radius:999px;
  font-size:.9rem;
  background:color-mix(in oklab,var(--panel-bg) 90%,#fff);
  color:color-mix(in oklab,var(--text-muted) 88%,var(--text-main));
  box-shadow:0 .06rem .2rem rgba(0,0,0,.06);
  transition:
    background-color .16s,
    color .16s,
    transform .12s,
    box-shadow .12s;
}
/* Ù†Øµ Ø§Ù„ÙˆØµÙ */
.story-pin-toggle > span{
  flex:1;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
/* Hover */
.story-pin-toggle:hover{
  background:color-mix(in oklab,var(--panel-bg) 92%,#fff);
  border-color:color-mix(in oklab,var(--modal-primary) 40%,var(--surface-border));
  transform:translateY(-1px);
  box-shadow:0 .12rem .35rem rgba(0,0,0,.08);
}
/* Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… :has */
.story-pin-toggle:has(> input[type="checkbox"]:checked){
  background:color-mix(in oklab,var(--modal-primary) 14%,var(--panel-bg));
  border-style:solid;
  border-color:color-mix(in oklab,var(--modal-primary) 55%,transparent);
  color:color-mix(in oklab,var(--modal-primary) 40%,var(--text-main));
}
.story-pin-toggle:has(> input[type="checkbox"]:checked)::before{
  background:color-mix(in oklab,#f7ca3e 90%,#fff);
  color:#5b4600;
  box-shadow:0 .12rem .38rem rgba(0,0,0,.18);
  transform:scale(1.06);
}
.story-meta-field{
  display:flex;
  flex-direction:column;
  gap:.15rem;
}

.story-meta-label{
  font-size:.78rem;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
  display:flex;
  align-items:center;
  gap:.25rem;
}

.story-meta-icon{
  font-size:.8rem;
  opacity:.85;
}

/* ØªØ°ÙŠÙŠÙ„ Ø§Ù„Ù‚ØµØ© */
.story-footer{
  display:flex;
  justify-content:flex-end;
  gap:.45rem;
  margin-top:.25rem;
}
.story-save-btn,
.story-delete-btn{
  min-width:4.2rem;
  padding:.28rem .8rem;
  border-radius:.7rem;
  border:1px solid transparent;
  font-size:.86rem;
  font-weight:600;
  cursor:pointer;
  transition:background-color .16s,border-color .16s,color .16s,transform .12s,box-shadow .12s;
}
.story-save-btn{
  background:var(--modal-primary);
  color:var(--modal-primary-fg,var(--modal-fg));
  box-shadow:0 .18rem .45rem rgba(0,0,0,.16);
}
.story-save-btn:hover{
  background:color-mix(in oklab,var(--modal-primary) 90%,#fff);
  transform:translateY(-1px);
  box-shadow:0 .26rem .75rem rgba(0,0,0,.18);
}
.story-save-btn:active{
  transform:translateY(0);
  box-shadow:0 .14rem .35rem rgba(0,0,0,.16);
}
.story-delete-btn{
  background:transparent;
  color:var(--modal-danger);
  border-color:color-mix(in oklab,var(--modal-danger) 55%,transparent);
  box-shadow:0 .08rem .25rem rgba(0,0,0,.08);
}
.story-delete-btn:hover{
  background:color-mix(in oklab,var(--modal-danger) 10%,transparent);
}
.story-delete-btn:active{
  transform:translateY(0);
  box-shadow:0 .04rem .16rem rgba(0,0,0,.12);
}
.story-cancel-btn{
  min-width:4.2rem;
  padding:.28rem .8rem;
  border-radius:.7rem;
  border:1px solid color-mix(in oklab,var(--surface-border) 90%,transparent);
  background:color-mix(in oklab,var(--panel-bg) 96%,#fff);
  font-size:.86rem;
  font-weight:600;
  cursor:pointer;
  color:color-mix(in oklab,var(--text-muted) 90%,var(--text-main));
  box-shadow:0 .06rem .2rem rgba(0,0,0,.04);
  transition:background-color .16s,border-color .16s,color .16s,transform .12s,box-shadow .12s;
}
.story-cancel-btn:hover{
  background:color-mix(in oklab,var(--panel-bg) 92%,#fff);
  border-color:color-mix(in oklab,var(--surface-border) 70%,transparent);
  transform:translateY(-1px);
  box-shadow:0 .12rem .35rem rgba(0,0,0,.08);
}
.story-cancel-btn:active{
  transform:translateY(0);
  box-shadow:0 .04rem .18rem rgba(0,0,0,.12);
}

@media(max-width:23.9rem){
  .bio-section-stories{margin-top:.6rem;padding:.7rem .7rem .9rem}
  .stories-header{margin-bottom:.4rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.4rem}
  .stories-tools-left,.stories-tools-right{width:100%;justify-content:space-between}
  .stories-sort,.stories-type-filter{flex:1 1 auto}
  .stories-add-btn{width:100%;justify-content:center}
  .stories-meta{font-size:.78rem}
  .story-card{padding:.65rem .7rem .75rem;max-height:70vh}
  .story-card-top{align-items:flex-start}
  .story-head{flex-direction:column;align-items:stretch;gap:.45rem}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
  .story-footer{flex-wrap:wrap;justify-content:stretch}
  .story-save-btn,.story-delete-btn,.story-cancel-btn{flex:1 1 auto;text-align:center}
  .story-image-viewer-dialog{inset:6%}
  .story-image-viewer-close{top:.8rem;inset-inline-start:.8rem;width:1.6rem;height:1.6rem;font-size:1rem}
}

@media(min-width:24rem) and (max-width:29.9rem){
  .bio-section-stories{margin-top:.7rem;padding:.8rem .85rem 1rem}
  .stories-header{margin-bottom:.45rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.45rem}
  .stories-tools-left,.stories-tools-right{width:100%;justify-content:space-between}
  .stories-sort,.stories-type-filter{flex:1 1 auto}
  .stories-add-btn{width:100%}
  .story-card{max-height:72vh}
  .story-head{flex-direction:column;align-items:stretch}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
  .story-image-viewer-dialog{inset:8%}
  .story-image-viewer-close{top:.85rem;inset-inline-start:.85rem;width:1.7rem;height:1.7rem;font-size:1rem}
}

@media(min-width:30rem) and (max-width:39.9rem){
  .bio-section-stories{margin-top:.8rem;padding:.9rem 1rem 1.1rem}
  .stories-tools{flex-direction:column;align-items:stretch;gap:.5rem}
  .stories-tools-left,.stories-tools-right{width:100%}
  .stories-tools-right{justify-content:flex-start}
  .story-card{max-height:75vh}
  .story-head{flex-direction:column;align-items:stretch}
  .story-dates{text-align:start}
  .story-meta-row{grid-template-columns:1fr}
  .story-pin-toggle{width:100%}
  .story-image-viewer-dialog{inset:10%}
  .story-image-viewer-close{top:.9rem;inset-inline-start:.9rem;width:1.7rem;height:1.7rem;font-size:1rem}
}

@media(min-width:40rem) and (max-width:47.9rem){
  .bio-section-stories{margin-top:.9rem;padding:1rem 1.1rem 1.2rem}
  .stories-header{margin-bottom:.5rem}
  .stories-tools{flex-direction:row;align-items:center;flex-wrap:wrap;gap:.5rem}
  .stories-tools-left{flex:1 1 100%;justify-content:flex-start;gap:.5rem}
  .stories-tools-right{flex:0 0 auto}
  .story-card{max-height:78vh}
  .story-head{flex-direction:row;align-items:center;gap:.6rem}
  .story-meta-row{grid-template-columns:minmax(0,1fr) minmax(0,1fr)}
  .story-pin-toggle{width:auto}
  .story-image-viewer-dialog{inset:12%}
}

@media(min-width:48rem) and (max-width:63.9rem){
  .bio-section-stories{margin-top:1rem;padding:1rem 1.3rem 1.3rem}
  .stories-tools{flex-direction:row;align-items:center;gap:.6rem}
  .stories-tools-left{flex:1 1 auto}
  .stories-tools-right{flex:0 0 auto}
  .story-card{max-height:22rem}
  .story-meta-row{grid-template-columns:minmax(0,9.5rem) minmax(0,8.5rem) minmax(0,1.4fr)}
  .story-pin-toggle{width:auto}
  .story-image-viewer-dialog{inset:14%}
}

@media(min-width:64rem){
  .bio-section-stories{margin-top:1.1rem;padding:1.1rem 1.4rem 1.4rem}
  .stories-list{gap:1rem}
  .story-card{max-height:24rem}
  .story-meta-row{grid-template-columns:minmax(0,9.5rem) minmax(0,8.5rem) minmax(0,1.4fr)}
  .story-pin-toggle{width:auto}
  .story-image-viewer-dialog{inset:12%}
}
